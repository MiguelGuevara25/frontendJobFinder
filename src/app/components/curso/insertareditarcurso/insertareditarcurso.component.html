<div class="contenedor-titulo">
  <h1 class="titulo-centrado" *ngIf="!edicion">Registro de Curso</h1>
  <h1 class="titulo-centrado" *ngIf="edicion">Actualizar Curso</h1>
</div>

<div class="contenedor-tabla">
  <form *ngIf="form" [formGroup]="form" (ngSubmit)="aceptar()" class="formulario-estilizado">
    
    <mat-form-field
      *ngIf="edicion"
      appearance="fill"
      class="form-control-id"
      [ngClass]="{ shake: form.get('idCurso')?.invalid && form.get('idCurso')?.touched }"
    >
      <mat-label>ID</mat-label>
      <input matInput placeholder="ID" formControlName="idCurso" />
      <mat-error *ngIf="form.get('idCurso')?.hasError('required')">
        El código es obligatorio
      </mat-error>
    </mat-form-field>

    <!-- Campo: título del curso -->
    <mat-form-field
      appearance="fill"
      class="form-control-certificado"
      [ngClass]="{ shake: form.get('tituloCurso')?.invalid && form.get('tituloCurso')?.touched }"
    >
      <mat-label>Curso</mat-label>
      <input matInput placeholder="Nombre del curso" formControlName="tituloCurso" />
      <mat-error *ngIf="form.get('tituloCurso')?.hasError('required')">
        El curso es obligatorio
      </mat-error>
      <mat-error *ngIf="form.get('tituloCurso')?.hasError('minlength')">
        Debe tener mínimo 3 caracteres
      </mat-error>
      <mat-error *ngIf="form.get('tituloCurso')?.hasError('maxlength')">
        Debe tener máximo 100 caracteres
      </mat-error>
    </mat-form-field>

    <!-- Campo: descripción -->
    <mat-form-field
      appearance="fill"
      class="form-control-entidad"
      [ngClass]="{ shake: form.get('descripcionCurso')?.invalid && form.get('descripcionCurso')?.touched }"
    >
      <mat-label>Descripción curso</mat-label>
      <input matInput placeholder="Descripción curso" formControlName="descripcionCurso" />
      <mat-error *ngIf="form.get('descripcionCurso')?.hasError('required')">
        La descripción del curso es obligatoria
      </mat-error>
      <mat-error *ngIf="form.get('descripcionCurso')?.hasError('minlength')">
        Debe tener mínimo 3 caracteres
      </mat-error>
      <mat-error *ngIf="form.get('descripcionCurso')?.hasError('maxlength')">
        Debe tener máximo 200 caracteres
      </mat-error>
    </mat-form-field>

    <!-- Campo: plataforma -->
    <mat-form-field
      appearance="fill"
      class="form-control-entidad"
      [ngClass]="{ shake: form.get('plataformaCurso')?.invalid && form.get('plataformaCurso')?.touched }"
    >
      <mat-label>Plataforma curso</mat-label>
      <input matInput placeholder="Plataforma curso" formControlName="plataformaCurso" />
      <mat-error *ngIf="form.get('plataformaCurso')?.hasError('required')">
        La plataforma del curso es obligatoria
      </mat-error>
      <mat-error *ngIf="form.get('plataformaCurso')?.hasError('minlength')">
        Debe tener mínimo 3 caracteres
      </mat-error>
      <mat-error *ngIf="form.get('plataformaCurso')?.hasError('maxlength')">
        Debe tener máximo 100 caracteres
      </mat-error>
    </mat-form-field>

    <!-- Campo: link -->
    <mat-form-field
      appearance="fill"
      class="form-control-entidad"
      [ngClass]="{ shake: form.get('linkCurso')?.invalid && form.get('linkCurso')?.touched }"
    >
      <mat-label>Link curso</mat-label>
      <input matInput placeholder="Link curso" formControlName="linkCurso" />
      <mat-error *ngIf="form.get('linkCurso')?.hasError('required')">
        El link del curso es obligatorio
      </mat-error>
      <mat-error *ngIf="form.get('linkCurso')?.hasError('pattern')">
        El link debe empezar con <strong>www.</strong> y terminar en <strong>.com</strong>
      </mat-error>
    </mat-form-field>

    <!-- Campo: empresa -->
    <mat-form-field appearance="fill">
      <mat-label>Empresa</mat-label>
      <mat-select formControlName="empresa">
        <mat-option *ngFor="let food of listaEmpresas" [value]="food.id">
          {{ food.name }}
        </mat-option>
      </mat-select>
    </mat-form-field>

    <!-- Botones -->
    <div class="example-button-row">
      <button mat-raised-button color="primary" type="submit">Guardar</button>
      <button mat-raised-button color="warn" type="button" (click)="cancelar()" style="margin-left: 16px">
        Cancelar
      </button>
    </div>

  </form>
</div>